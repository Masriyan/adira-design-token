name: Create Figma Tokens Pull Request (automatic create pull request)

# match the branch you put in your Figma Tokens Sync Credentials in the next step
on:
  push:
    branches:
      - figma-tokens

jobs:
  pull-request:
    runs-on: ubuntu-latest
    steps:
      # - name: skip process
      #   run: |
      #     echo "skipped"

      - name: Check Branch Name
        run: |
          if [[ $GITHUB_REF != "refs/heads/figma-tokens" ]]; then
            echo "Not pushing to figma-tokens branch, skipping the workflow."
            exit 0
          fi

      - name: Checkout code
        uses: actions/checkout@v2

      - name: Create Pull Request
        uses: peter-evans/create-pull-request@v3
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          branch: main # Branch tujuan pull request
          title: 'Figma Tokens Update'
          body: 'üç• Design Tokens were updated in Figma! This PR was created to update the code.'

      # - uses: actions/checkout@v2

      # - name: Create Pull Request
      #   uses: repo-sync/pull-request@v2
      #   with:
      #     destination_branch: 'main' # match your default branch
      #     pr_title: 'Figma Tokens Update'
      #     pr_body: 'üç• Design Tokens were updated in Figma! This PR was created to update the code.'
      #     github_token: ${{ secrets.GITHUB_TOKEN }}
